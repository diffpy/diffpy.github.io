
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>mpdf &#8212; DiffPy  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=158b04a8" />
    <script src="../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/diffpy_logo_header.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mPDF License" href="mPDFlicense.html" />
    <link rel="prev" title="SrMise License" href="SrMiselicense.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          DiffPy</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../community.html">Community</a></li>
                <li><a href="../publications.html">Publications</a></li>
            
            

            
            
  <li class="dropdown menu01-container">
  <a role="button"
     id="dLabelMenu01"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Products <b class="caret"></b></a>
  <ul class="dropdown-menu menu01"
      role="menu"
      aria-labelledby="dLabelMenu01">
      <li><a href="diffpycmi/index.html">DiffPy-CMI</a></li>
      <li><a href="xPDFsuite.html">xPDFsuite</a></li>
      <li><a href="pdfgetx.html">PDFgetX3, PDFgetN3 and PDFgetS3</a></li>
      <li><a href="pdfgui.html">PDFgui</a></li>
      <li><a href="SrMise.html">SrMise</a></li>
      <li><a href="#">mPDF</a></li>
      <li><a href="xinterpdf.html">xINTERPDF</a></li>
      <li><a href="pythonpackages.html">Python Packages</a></li>
  </ul>
</li>

            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="mpdf">
<h1>mpdf<a class="headerlink" href="#mpdf" title="Link to this heading">¶</a></h1>
<p>The diffpy.mpdf package provides a convenient method for computing the magnetic PDF
(mPDF) from magnetic structures and performing fits to neutron total scattering
data. The mPDF is calculated by an MPDFcalculator object, which extracts the spin
positions and spin vectors from a MagStructure object that the MPDFcalculator
takes as input. The MagStructure object in turn can contain multiple MagSpecies
objects, which generate magnetic configurations based on a diffpy.structure object
and a set of propagation vectors and basis vectors provided by the user.
Alternatively, the user can manually define a magnetic unit cell that will be used
to generate the magnetic structure, or the magnetic structure can be defined simply
as lists of spin positions and spin vectors provided by the user.</p>
<figure class="align-center">
<img alt="../_images/mpdf_screenshot.png" src="../_images/mpdf_screenshot.png" />
</figure>
<p>This is an early release of mpdf, and the capabilities and documentation of the
project will evolve. The DiffPy team encourages investigators to provide feedback,
suggestions, and feature requests.</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>The diffpy.mpdf package requires Python 2.6 or 2.7 and the following software:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NumPy</span></code> - numerical mathematics and fast array operations for Python</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SciPy</span></code> - scientific libraries for Python</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> - python plotting library</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diffpy.structure</span></code> - diffpy package for generating atomic structure</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diffpy.srreal</span></code> - diffpy package for calculating real-space quantities</p></li>
</ul>
<p>See the <a class="reference internal" href="mPDFlicense.html"><span class="doc">mpdf license</span></a> for terms and conditions of use.</p>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h3>
<p>The recommended way to install this package is through conda. For help installing conda,
please visit <a class="reference external" href="https://www.anaconda.com/distribution">https://www.anaconda.com/distribution</a>.
Once conda is installed, you can follow the simple steps below to install diffpy.mpdf.
You will also install the full diffpy-cmi suite along the way.</p>
<p><em>Step 1: Add the appropriate conda channels to your conda configuration.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">diffpy</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">benfrandsen</span>
</pre></div>
</div>
<p>These commands tell conda to look through these channels on the Anaconda cloud server to
find the appropriate software.</p>
<p><em>Step 2 (recommended): Create and activate a conda environment for diffpy + diffpy.mpdf.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="n">diffpy</span> <span class="n">python</span><span class="o">=</span><span class="mf">2.7</span>
<span class="n">source</span> <span class="n">activate</span> <span class="n">diffpy</span>
</pre></div>
</div>
<p>Note that you can name the environment anything you choose by passing it a different name
after the –name flag in the first command.</p>
<p><em>Step 3: Install diffpy.mpdf.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">diffpy</span><span class="o">.</span><span class="n">mpdf</span>
</pre></div>
</div>
<p>Note that this will also install the full diffpy-cmi suite if it has not already been
installed in this environment.</p>
<p><em>Alternative option: Install from the python package index.</em></p>
<p>If you prefer to use the python package index and have pip installed, please install the
prerequisite software and then use the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">diffpy</span><span class="o">.</span><span class="n">mpdf</span>
</pre></div>
</div>
<p><em>Alternative option: Download and install from source.</em></p>
<p>If you prefer to install from source, you can also zip and download the entire package
from <a class="reference external" href="https://pypi.org/project/diffpy.mpdf">PyPI</a> or
<a class="reference external" href="https://github.com/benfrandsen/diffpy.magpdf">GitHub</a>, then unzip the file and
execute the following command from inside the unzipped directory</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Note that this will only work if all the dependencies are already properly installed.</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h3>
<p>Please see <a class="reference external" href="https://pythonhosted.org/diffpy.mpdf">https://pythonhosted.org/diffpy.mpdf</a>
for the documentation.</p>
</section>
</section>
<section id="what-next">
<h2>What next?<a class="headerlink" href="#what-next" title="Link to this heading">¶</a></h2>
<p>Explore the mpdf tutorial and examples on the
<a class="reference external" href="https://github.com/diffpy/cmi_exchange">CMI Exchange</a>!</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>