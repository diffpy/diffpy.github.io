
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DiffPy-CMI installation from sources &#8212; DiffPy  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../../_static/diffpy_logo_header.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="DiffPy-CMI Contents" href="contents.html" />
    <link rel="prev" title="DiffPy-CMI" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/diffpy_logo_header.png"></span>
          DiffPy</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../community.html">Community</a></li>
                <li><a href="../../publications.html">Publications</a></li>
            
            

            
            
  <li class="dropdown menu01-container">
  <a role="button"
     id="dLabelMenu01"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Products <b class="caret"></b></a>
  <ul class="dropdown-menu menu01"
      role="menu"
      aria-labelledby="dLabelMenu01">
      <li><a href="index.html">DiffPy-CMI</a></li>
      <li><a href="../xPDFsuite.html">xPDFsuite</a></li>
      <li><a href="../pdfgetx.html">PDFgetX3, PDFgetN3 and PDFgetS3</a></li>
      <li><a href="../pdfgui.html">PDFgui</a></li>
      <li><a href="../SrMise.html">SrMise</a></li>
      <li><a href="../mPDF.html">mPDF</a></li>
      <li><a href="../xinterpdf.html">xINTERPDF</a></li>
      <li><a href="../pythonpackages.html">Python Packages</a></li>
  </ul>
</li>

            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="diffpy-cmi-installation-from-sources">
<h1>DiffPy-CMI installation from sources<a class="headerlink" href="#diffpy-cmi-installation-from-sources" title="Permalink to this heading">¶</a></h1>
<p>Downloaded the most recent <a class="reference external" href="https://github.com/diffpy/diffpy-release/releases/latest">DiffPy-CMI tarball</a>
and follow the steps below.</p>
<section id="install-system-software">
<h2>1 Install system software<a class="headerlink" href="#install-system-software" title="Permalink to this heading">¶</a></h2>
<p>DiffPy-CMI requires the <a class="reference internal" href="#dependencies"><span class="std std-ref">system software dependencies</span></a>
which can be installed from command line using a suitable package manager.
Here are installation commands for several supported systems.</p>
<section id="ubuntu">
<h3>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this heading">¶</a></h3>
<p>For Ubuntu or other Debian-based Linux distributions use <code class="docutils literal notranslate"><span class="pre">apt-get</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>libgsl0-dev<span class="w"> </span>libboost-all-dev<span class="w"> </span>python-dev<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>python-setuptools<span class="w"> </span>python-numpy<span class="w"> </span>python-scipy<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>python-matplotlib<span class="w"> </span>python-lxml<span class="w"> </span>ipython<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>build-essential<span class="w"> </span>scons<span class="w"> </span>git<span class="w"> </span>zsh
</pre></div>
</div>
</section>
<section id="fedora">
<h3>Fedora<a class="headerlink" href="#fedora" title="Permalink to this heading">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">yum</span></code> for Fedora or RedHat Linux:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>gsl-devel<span class="w"> </span>boost-devel<span class="w"> </span>python-devel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>python-setuptools<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>python-matplotlib<span class="w"> </span>python-lxml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>python-ipython-notebook<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>gcc-c++<span class="w"> </span>scons<span class="w"> </span>git<span class="w"> </span>zsh
</pre></div>
</div>
</section>
<section id="mac-os-x">
<h3>Mac OS X<a class="headerlink" href="#mac-os-x" title="Permalink to this heading">¶</a></h3>
<p>For Mac OS X the system dependencies can be installed using the
<a class="reference external" href="https://www.macports.org">MacPorts</a> software manager.  A similar
package system <a class="reference external" href="https://brew.sh">Homebrew</a> works as well, but has
been considerably less tested with DiffPy-CMI.</p>
<p>For best results with MacPorts follow these tips:</p>
<ul class="simple">
<li><p>We recommend to upgrade to the <a class="reference external" href="https://www.apple.com/osx/">latest version of OS X</a>.</p></li>
<li><p>Install <a class="reference external" href="https://developer.apple.com/xcode/">Xcode</a>.
If already present, we recommend to upgrade to the latest version.</p></li>
<li><p>Be patient, it may take several hours to install all the dependencies
using MacPorts.</p></li>
<li><p>Installation command may fail on the first run, but usually works
when repeated.  See MacPorts
<a class="reference external" href="https://trac.macports.org/wiki/FAQ#buildfails">FAQ</a>
for more help.</p></li>
</ul>
<p>To install system dependencies with MacPorts, use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>port<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>python27<span class="w"> </span>py27-setuptools<span class="w"> </span>py27-ipython<span class="w"> </span>py27-lxml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>gsl<span class="w"> </span>boost<span class="w"> </span>py27-numpy<span class="w"> </span>py27-scipy<span class="w"> </span>py27-matplotlib<span class="w"> </span>scons<span class="w"> </span>git
</pre></div>
</div>
<p>Make sure the MacPorts versions of IPython and Python are active by
running the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>port<span class="w"> </span><span class="k">select</span><span class="w"> </span>--set<span class="w"> </span>ipython<span class="w"> </span>ipython27
sudo<span class="w"> </span>port<span class="w"> </span><span class="k">select</span><span class="w"> </span>--set<span class="w"> </span>python<span class="w"> </span>python27
</pre></div>
</div>
<p><strong>Important:</strong> When finished installing the Mac OS X dependencies, adjust
the shell environment so that MacPorts Python is the first in the
PATH.  This can be accomplished by adding the following line to either
of <code class="docutils literal notranslate"><span class="pre">.profile</span></code> or <code class="docutils literal notranslate"><span class="pre">.zshenv</span></code> file in your HOME directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/opt/local/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="install-diffpy-cmi">
<h2>2 Install DiffPy-CMI<a class="headerlink" href="#install-diffpy-cmi" title="Permalink to this heading">¶</a></h2>
<p>Unzip the DiffPy-CMI tarball into a directory of your choice.
Execute the included <code class="file docutils literal notranslate"><span class="pre">install</span></code> script and follow the prompts.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># replace VERSION to match the actual filename</span>
tar<span class="w"> </span>xzf<span class="w"> </span>diffpy_cmi-VERSION.tar.gz
<span class="nb">cd</span><span class="w"> </span>diffpy_cmi-VERSION
./install
</pre></div>
</div>
<p>The install process may take a while and produce a plentiful output,
but should work if all required software is in place.</p>
</section>
<section id="test">
<h2>3 Test<a class="headerlink" href="#test" title="Permalink to this heading">¶</a></h2>
<p>Execute the included test script, which should report no warnings
nor errors:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./runtests.sh
</pre></div>
</div>
<p>If there are failures they are most likely due to missing software or
incorrect versions of Python or other libraries being used together.
After addressing these issues it may be necessary to recompile the
sources by running <code class="docutils literal notranslate"><span class="pre">./install</span> <span class="pre">--build</span></code>.</p>
</section>
<section id="remarks">
<h2>Remarks<a class="headerlink" href="#remarks" title="Permalink to this heading">¶</a></h2>
<p>The expanded diffpy_cmi directory can be renamed or moved
to a different location and the software should still work.
The only requirement is to update the <code class="file docutils literal notranslate"><span class="pre">diffpy_cmi.pth</span></code>
symbolic link so it points to the new location.  This can be
done by running the <code class="docutils literal notranslate"><span class="pre">./install</span></code> script again or by following
the steps below.</p>
<p>The Python interpreter must have a symbolic link pointing to the
<code class="file docutils literal notranslate"><span class="pre">diffpy_cmi.pth</span></code> file in one of the directories where it
looks for <code class="file docutils literal notranslate"><span class="pre">.pth</span></code> files.  This is normally set up by the
install script.  If that process somehow fails, the preferred
<code class="file docutils literal notranslate"><span class="pre">pth</span></code> directory for a single-user installation can be
found using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import site; print site.USER_SITE&#39;</span>
</pre></div>
</div>
<p>For a system-wide installation the standard <code class="file docutils literal notranslate"><span class="pre">pth</span></code> locations are</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import site; print site.getsitepackages()&#39;</span>
</pre></div>
</div>
<p>Once the <code class="file docutils literal notranslate"><span class="pre">pth</span></code> directory has been established, navigate to
the base diffpy_cmi directory and create the symbolic link with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln<span class="w"> </span>-si<span class="w"> </span><span class="nv">$PWD</span>/diffpy_cmi.pth<span class="w"> </span>/path/to/the/pth/directory/
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is essential to use a symbolic link.  Making a copy of the
<code class="file docutils literal notranslate"><span class="pre">diffpy_cmi.pth</span></code> file will not work.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The installation of DiffPy-CMI is entirely contained under the
expanded diffpy_cmi directory.  The software can be completely
uninstalled by deleting that directory and removing the symbolic
link.</p>
</div>
</section>
<section id="contacts">
<h2>Contacts<a class="headerlink" href="#contacts" title="Permalink to this heading">¶</a></h2>
<p>If you need help with installing this software, please check discussions
or post your question to the
<a class="reference external" href="https://groups.google.com/d/forum/diffpy-dev">diffpy-dev</a>
group.</p>
<hr class="docutils" />
<section id="list-of-software-dependencies">
<span id="dependencies"></span><h3>List of software dependencies<a class="headerlink" href="#list-of-software-dependencies" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>gsl</strong> -  GNU Scientific Library is collection of routines for numerical analysis.</p></li>
<li><p><strong>boost</strong> - a set of useful C++ libraries.</p></li>
<li><p><strong>python-dev</strong> - development tools for Python modules.</p></li>
<li><p><strong>python-setuptools</strong> - enhancements to the Python distutils.</p></li>
<li><p><strong>numpy</strong> - general-purpose array-processing for large multi-dimensional arrays in Python.</p></li>
<li><p><strong>scipy</strong> - the fundamental library for scientific computing with Python.</p></li>
<li><p><strong>matplotlib</strong> - a Python 2D plotting library.</p></li>
<li><p><strong>python-lxml</strong> - a Python library for processing XML.</p></li>
<li><p><strong>ipython</strong> - an enhanced interactive Python shell.</p></li>
<li><p><strong>scons</strong> - a software build tool.</p></li>
<li><p><strong>git</strong> - a version control system.</p></li>
<li><p><strong>zsh</strong> - an interactive shell and powerful scripting language.</p></li>
</ul>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>